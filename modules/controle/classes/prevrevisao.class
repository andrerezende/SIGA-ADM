<?
class BusinessControlePrevRevisao extends Business
{
    public $idPrevRevisao;
    public $placa;
    public $dataPrevista;
    public $kmEstimada;
    public $situacao;
    
    public $veiculo;
    public $balanco;
        
    function __construct($data=NULL)
    {
        $this->Business('sigaept',$data);
    }
    function GetById($id)
    {
		$this->idPrevRevisao = $id;
		$this->retrieve();
    }
    function setData($data)
    {
        $this->placa = $data->placa;
		$this->dataPrevista = $data->dataPrevista;
		$this->kmEstimada = $data->kmEstimada;
		$this->situacao = $data->situacao;        
    }
    function getData()
    {
		$data->placa = $this->placa;
		$data->dataPrevista = $this->dataPrevista;
		$data->kmEstimada = $this->kmEstimada;
		$data->situacao = $this->situacao;
		return $data;
    }
    function setVeiculo($placa)
    {
		$this->placa = $placa;
    }
    function getVeiculo()
    {
        $this->retrieveAssociation('veiculo');
    }
    function listAll()
    {
        global $MIOLO;
        
		$criteria =  $this->getCriteria();
        $criteria->addOrderAttribute('dataPrevista');
        return $criteria->retrieveAsQuery();
    }
    function getBalanco()
    {
		$sql = new MSql();	
    }	
}
?>
