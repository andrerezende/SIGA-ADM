<?php
global $MIOLO;
$MIOLO->Uses('controls/linkobject.class', 'adm');

class LinkPedido extends LinkObject {

	/**
	 * Business utilizado
	 * @var BusinessAdmPedidoCompra
	 */
	public $object;

	public function __construct($name = '', $object = null) {
		global $MIOLO;
		parent::__construct($name, $object, 'nothing.jpg');
	}

	public function setObjectByValue($value) {
		$this->object = $this->manager->GetBusiness('adm', 'pedidocompra');
		$this->object->GetById((int) $value);
	}

	public function setAction() {
		$this->hyperlink->SetAction('adm', 'main:pedidocompra', $this->object->idPedidoCompra);
		$this->imagelink->SetAction('adm', 'main:pedidocompra', $this->object->idPedidoCompra);
	}

	public function setText() {
		$this->hyperlink->SetText($this->object->idPedidoCompra);
	}

	public function setNew() {
		$this->isNewLink = true;
		$this->hyperlink->SetAction('adm', 'main:pedidocompra:new');
		$this->hyperlink->SetText('Realizar nova solicitação');
		$this->imagelink->SetAction('adm', 'main:pedidocompra:new');
	}

}