<?php
// 15-12-2011 - Daniel Bonfim

global $MIOLO;
$MIOLO->Uses('controls/linkobject.class','adm');

class LinkEndereco extends LinkObject {
	/**
	 * Business utilizado
	 * @var BusinessAdmEndereco
	 */
	public $object;
	public function __construct($name = '', $object = null) {
		global $MIOLO;
		parent::__construct($name, $object, 'nothing.jpg');
	}

	public function setObjectByValue($value) {
		$this->object = $this->manager->GetBusiness('adm','endereco');
		$this->object->GetById((int)$value);
	}

	public function setAction() {
        // é enviado tambem pelo handler o item para o form
		$this->hyperlink->SetAction('adm','main:endereco:edit',$this->object->idEndereco);
        $this->imagelink->SetAction('adm','main:endereco:edit',$this->object->idEndereco);
	}
      
	public function setText() {
        $this->hyperlink->SetText($this->object->endereco);
    }
    
	public function setNew() {
        $this->isNewLink = true;
        $this->hyperlink->SetAction('adm','main:endereco:new');
        $this->hyperlink->SetText('Inserir Endereço');
        $this->imagelink->SetAction('adm','main:endereco:new');
    }
        
    public function setNovoEndereco() {
        $this->isNewLink = true;
        $this->hyperlink->SetAction('adm','main:endereco:new');
        $this->hyperlink->SetText('Inserir Endereço');
        $this->imagelink->SetAction('adm','main:endereco:new');
    }
}