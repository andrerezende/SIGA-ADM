<?php
// 24/05/11 Daniel Bonfim

global $MIOLO;
$MIOLO->Uses('controls/linkobject.class', 'adm');

class LinkVidaUtil extends LinkObject {

	/**
	 * Business utilizado
	 * @var BusinessAdmVidaUtil
	 */
	public $object;

	public function __construct($name = '', $object = null) {
		global $MIOLO;
		parent::__construct($name, $object, 'nothing.jpg');
	}

	public function setObjectByValue($value) {
		$this->object = $this->manager->GetBusiness('adm', 'vidautil');
		$this->object->GetById($value);
	}

	// analisar
	public function setAction() {
		// Ã© enviado tambem pelo handler o item para o form
		$this->hyperlink->SetAction('adm', 'main:vidautil:edit', $this->object->idvidautil);
		$this->imagelink->SetAction('adm', 'main:vidautil:edit', $this->object->idvidautil);
	}

	public function setText() {
		$this->hyperlink->SetText($this->object->descricao);
	}

	public function setNew() {
		$this->isNewLink = true;
		$this->hyperlink->SetAction('adm', 'main:vidautil:new');
		$this->hyperlink->SetText('Inserir Novo');
		$this->imagelink->SetAction('adm', 'main:vidautil:new');
	}
}