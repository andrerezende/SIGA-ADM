<?
class frmNovoServicoFind extends MForm
{
    function __construct()
    {
        global $MIOLO, $module;
        parent::__construct('Pesquisar Servicos');
        $this->SetClose($MIOLO->GetActionURL($module,'main'));
        $this->EventHandler();
    }
    function CreateFields()
    {
        $ui = $this->manager->GetUI();
        $grid = $ui->GetGrid('adm','gridNovoServico');
        $grid->SetTitle(NULL);
        $lnkNew = new MLink('lnkNew','&nbsp;','','Inserir Novo servico');
        $lnkNew->SetAction('adm','novoservico:new');
        $findButton = new MButtonFind('');
		$findButton->SetName('btnFind');
		
		$gestor = $this->manager->getbusiness('adm','gestor');
		
		$idUsuario = $this->manager->GetLogin()->idkey;
        $perms = $this->manager->getPerms();
		
		
        $fields = array(
                    array(
                        new MTextField('descricao','','Descricao',60),
                        new MTextField('idNovoServico','','NÃºmero',10),
                        new MTextField('status','','Status',10),
						new MTextField('datapedido','','Data',10),
						new Selection('idUoReq','','UO',$gestor->listUoByUsuario($idUsuario)->result),
                        $findButton,
                        $lnkNew
                        ),					
                    $grid,
                );
    

        $this->SetFields($fields);
        $this->defaultButton = false;
	}
}
?>
