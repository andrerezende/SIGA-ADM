<?
class frmLicitacaoConvite extends MForm
{
    protected $licitacao;

    function __construct($licitacao)
    {
        $this->licitacao = $licitacao;
        
		parent::__construct('ImpressÃ£o de Convites aos Participantes');
        $this->EventHandler();
	}

	function createFields()
	{
        $participantes = $this->licitacao->listParticipantes();
       
		$fields = array(
            new Selection('idFornecedor','','Participante',$participantes->result),
        );		
        $this->SetFields($fields);           
        
		$buttons = Array
		(
			new FormButton('btnRep', 'Gerar Convites','pdf'),
		);
		$this->SetButtons($buttons);
	}

    function btnRep_click()
    {
        global $MIOLO;
        
        $idFornecedor = $this->GetFormValue('idFornecedor');
        $report = $MIOLO->getUI()->GetReport('adm','repConviteEquipamento',array($this->licitacao,$idFornecedor));
        $report->Generate();
    }
}
?>
