<?
global $MIOLO;
/**
 * Use Module Control
 */
$MIOLO->Uses('controls/linkorcamentohist.class','adm');

/**
 * Formulário básico para seleção de orçamento
 * 
 */
class frmOrcamentoFind extends Form
{
    function __construct()
    {
		global $MIOLO, $module;
        $this->Form('Pesquisar Orçamentos');
		$this->SetClose($MIOLO->GetActionURL($module,'main:financeiro'));
        $this->EventHandler();
    }

    function CreateFields()
    {
        global $MIOLO, $action;

		$ui = $MIOLO->GetUI();
        $grid = $ui->GetGrid('adm','gridOrcamentoHist');
        $grid->SetTitle(NULL);

        
        $lnkNew = new LinkOrcamentoHist('lnkNew', FALSE);
        $lnkNew->setNew();
        
        $findButton = new ButtonFind('');
        $findButton->SetName('btnFind');
        
        $fields = array(
            array(
                new Text('','&nbsp;Ano:&nbsp;'),
                new TextField('ano','','',5),
                new Text('','&nbsp;Esfera:&nbsp;'),
                new TextField('esfera','','',2),
                new Text('','&nbsp;PTR:&nbsp;'),
                new TextField('ptr','','',10),
                new Text('','&nbsp;Fonte:&nbsp;'),
                new TextField('fonte','','',12),
                new Text('','&nbsp;Rubrica:&nbsp;'),
                new TextField('rubrica','','',8),
                $findButton,
                $lnkNew
            ),
            $grid
        );
        $this->SetFields($fields);
        $this->defaultButton = false;

	}
 }
?>
