<?
class frmRelatorio extends Form
{
    function frmRelatorio()
    {   
		global $page;
		$this->Form('Testando Relatório');
		if ($page->IsPostBack())
		{
            $this->EventHandler();
		}
	}

	function CreateFields()
	{
		$buttons = array(
           new FormButton('btnNaFuncao','Tabela Banco','PDF'),
           new FormButton('btnNaClasse','Gerar Relatorio','PDF'),
					 new FormButton('btnPagBolsa','Relatorio Bolsa','PDF')
        );
        $this->SetButtons($buttons);
	}


    function btnNaFuncao_click()
    {   global $MIOLO,$perms;
        $report = new ezPDFReport('2');
        $data = array();
        $banco = $MIOLO->GetBusiness('adm','banco');
        $query = $banco->ListAll();
        $options['textCol'] = array(0,0);
        $options['shaded'] = 1;
				$nomeColunas = array('Código','Nome');
        $report->pdf->ezTable($query->result,$nomeColunas,'Relação de Bancos',$options);
        $report->Execute();
    }

    function btnNaClasse_click()
    {   global $MIOLO;

        $ui = $MIOLO->GetUI();
        $report = $ui->GetReport('adm','repAgencia');
        $report->Generate();
    }
    function btnPagBolsa_click()
    {
			global $MIOLO,$module;
				
      $ui = $MIOLO->GetUI();
      $report = $ui->GetReport($module,'repPagamentoBolsa','teste passagem para construct');
      $report->Generate();
    }

}

?>
