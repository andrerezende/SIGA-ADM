<?
class BusinessAdmEmpenhadoDist extends Business
{
	public $idEmpenhado;
	public $idRequisicao;
	public $valorUnitario;
	public $quantidadeEmp;

	function __construct($data = null)
	{
		parent::__construct('sigaept', $data);
	}
    
    function OnCreate()
    {
    }

	function getById($idEmpenhado,$idRequisicao)
	{
		$this->idEmpenhado = $idEmpenhado;
		$this->idRequisicao = $idRequisicao;
		$this->retrieve();
		return $this;
	}

	function GetIdEmpenhoByRequisicaoLicitacaoItem($idRequisicao,$idLicitacao,$item)
	{
		$criteria = $this->getCriteria();
		$criteria->AddColumnAttribute('empenhado.idEmpenho');
		$criteria->addCriteria('idRequisicao','=',$idRequisicao);
        $criteria->addCriteria('empenhado.idLicitacao','=',$idLicitacao);
        $criteria->addCriteria('empenhado.item','=',$item);
        $query = $criteria->retrieveAsQuery();
		return $query->result[0][0];
	}
}
?>
