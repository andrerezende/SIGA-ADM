<?
class BusinessAdmFonte extends Business
{
    public $idFonte;
    public $descricao;
    public $fontecompleta;
    public $fonteresumida;
	

    function __construct($data = null)
    {
        parent::__construct('sigaept',$data);
    }

    function OnCreate($data)
    {
        if (empty($data))
        {

        }
        else
        {
            $this->GetById($data);
        }
    }

    function GetById($idFonte)
    {
        $this->idFonte = $idFonte;
        $this->retrieve();
        return $this;
    } 

    function ListById($id)
    {
        $criteria =  $this->getCriteria();
        $criteria->addCriteria('idFonte','LIKE', "'%$id%'");
        $criteria->addOrderAttribute('idFonte');
        return $criteria->retrieveAsQuery();
    }
    
    function ListByDescricao($descricao)
    {
        $descricao = strtoupper($descricao);
        $criteria =  $this->getCriteria();
        $criteria->addCriteria('descricao','LIKE', "'%$descricao%'");
        $criteria->addOrderAttribute('idFonte');
        return $criteria->retrieveAsQuery();
    }

    function ListAll()
    {
        $criteria =  $this->getCriteria();
        $criteria->AddColumnAttribute('idFonte');
        $criteria->AddColumnAttribute('descricao');
        $criteria->addOrderAttribute('descricao');
        return $criteria->retrieveAsQuery();
    }
}
?>
