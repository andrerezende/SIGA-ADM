<?
/**
 * Grid Uo
 * Grid para listar os materiais da requisição de almoxarifado
 * @package br.org.miolo.ufjf.adm.grids
 */
/**
 * Use Module Control
 */

class gridUoMotorista extends MDataGrid
{
     protected $objMotorista;
	
    function __construct($objMotorista)
    {
        $this->objMotorista = $objMotorista;
        global $MIOLO, $module, $self, $page;
        
        $columns = array(
            new MDataGridColumn('sigla','Nome','center',FALSE,'90%'),

        );

        $href_grid = $MIOLO->GetActionURL('adm','main:requisicoes',$this->objRequisicao->idRequisicao);
        $objUo = $MIOLO->GetBusiness($module, 'uo');


        $idRequisicao = $this->objMotorista->idMotorista;

        $lista=$objUo->GetUoMotorista($idRequisicao);
        parent::__construct($lista,$columns,$href_grid,20);

		/*$href_update = $MIOLO->GetActionURL('adm','main:requisicoes',$this->objRequisicao->idRequisicao,array('form'=>'item','ordem'=>'%1%','tipoReq'=>15));
		$this->AddActionUpdate($href_update);*/
                //var_dump($module); var_dump($self);exit;
        $action = $MIOLO->GetActionURL($module,$self,$objMotorista->idMotorista,array('form'=>'uo','idu'=>'#0#','iduo'=>trim($this->objMotorista->idMotorista)));
	$this->AddActionDelete($action);
        $this->SetLinkType('hyperlink');
        $this->SetTitle('U.O.');
        $this->SetClose(null);
    }
    function GenerateFooter()
    {
        global $MIOLO,$module;
        $go = $MIOLO->GetActionURL('adm','main:requisicoes',$this->objRequisicao->idRequisicao,array('form'=>'item','tipoReq'=>15));
            if ($this->objItinerario->NovoItinerario){


            }else{
            
            }

        $footer[] = new MSpacer('5px');
        $footer[] = new MSpacer('5px');
        return $footer;
    }
}

?>