<?
class gridAbastecimento extends MDataGrid2
{
	function gridAbastecimento($idRequisicao)
	{
		global $MIOLO, $module, $self, $item;

		$objAbastecimento = $MIOLO->GetBusiness('adm','abastecimento');
		$query = $objAbastecimento->GetGridByIdRequisicao($idRequisicao);
		$columns = array(

			new MDataGridColumn('idAbastecimento','Abastecimento','right', true, '5%',true),
			new MDataGridColumn('idRequisicao','Requisição','right', true, '20%',true),
			new MDataGridColumn('posto','Posto','right', true, '20%',true),
			new MDataGridColumn('nomeLocal','Local','right', true, '20%',true),
			new MDataGridColumn('valorabastecimento','Valor(R$)','right', true, '20%',true),
			new MDataGridColumn('quantidade','Quantidade(L)','right', true, '10%',true),
			new MDataGridColumn('data','Data','right', true, '20%',true),
			new MDataGridColumn('hora','Data','right', true, '20%',true),

		);

	        $href_grid = $MIOLO->GetActionURL($module,$self);
		parent::__construct($query, $columns, $href_grid,20,0);

		$this->SetTitle('Abastecimentos');

//		$this->SetClose($MIOLO->GetActionURL($module,'main:bolsista'));

		$action = $MIOLO->GetActionURL($module,'','',array('item'=>'#1#','abast'=>'#0#'));
		//$action = $MIOLO->GetActionURL('adm','main:abastecimento',"$item&idIetm=546");

		//$this->AddActionText('aaa', 'asdasdasdas', $action);
		$this->AddActionDelete($action);
	}
}
?>
