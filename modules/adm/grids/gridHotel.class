<?
/**
 * Grid Hotel
 * Grid de uso geral para selecionar hotel
 * @package br.org.miolo.ufjf.rh.grids
 */
/**
 * Use Module Control
 */
global $MIOLO;
$MIOLO->Uses('controls/linkhotel.class','adm');

class gridHotel extends DataGrid2
{

	/**
	* Constructor
	*/
	function __construct()
	{
		global $MIOLO, $self;

		$linkHotel = new LinkHotel('linkhotel','%0%');
		$columns = array(
			new DataGridControl($linkHotel,'hotel','Nome','left', true,'100%')
		);

		$this->SetFilter(false);
		$filter = Form::GetFormValue('hotel');
		$hotel = empty($filter) ? '%' : $filter;
		$this->AddFilterText('hotel','Hotel',$hotel);

		$this->SetIndex(1);

		$objHotel = $MIOLO->GetBusiness('adm','hotel');

		$query = $objHotel->ListByNome($hotel);

		$href_grid = $MIOLO->GetActionURL('adm',$self);

		parent::__construct($query, $columns, $href_grid,25);
		$this->SetLinkType('hyperlink');
	}

	function GenerateFooter()
	{
		if (!$this->data) 
			$footer[] = $this->GenerateEmptyMsg();

		$footer[] = new Separator();
		$footer[] = $this->GenerateControls();
		return $footer;
	}

}

