<?php

// 15-12-2011 - Daniel Bonfim

global $MIOLO;

//$MIOLO->Uses('controls/linkendereco.class','adm');

class gridVersaoSistemas extends MDataGrid2 {

    public function __construct() {
        global $MIOLO, $module, $page, $context, $self, $action, $perms, $state;

        $objversao = $MIOLO->GetBusiness('common','versaosistemas');

        // pega os campos do form para fazer a query
        $query = $objversao->ListAll(
//                MForm::GetFormValue('idversao'), MForm::GetFormValue('dataversao'), MForm::GetFormValue('descricaoalteracoes')
        );

        $this->SetIndex(1);

        $hrefVersao = $MIOLO->getActionURL('main:versaosistemas', '#0#');

        $columns = array(
            new MDataGridHyperlink('idversao', 'VERSÂO', '10%', true, null, true),
            new MDataGridColumn('dataversao', 'DATA', 'left', true, '11%'),
            new MDataGridColumn('descricaoalteracoes', 'DESCRIÇÂO', 'left', true, '8%')
        );

        // referencia a ele proprio
        $href_grid = $MIOLO->GetActionURL('versaosistemas', $self);

        parent::__construct($query, $columns, $href_grid, 25);
        $this->SetWidth('100%');
        $this->SetClose(null);
        $this->SetLinkType('hyperlink');
    }

}
