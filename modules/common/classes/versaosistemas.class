<?
class BusinessCommonVersaoSistemas extends Business implements IAccess
{
    public $idVersao;
    public $Versao;
    public $dataVersao;
    public $descricaoAlteracoes;

      public function __construct($data = null) {
        parent::__construct('sigaept', $data);
    }

    function ListAll()
    {
        $criteria =  $this->getCriteria();
        return $criteria->retrieveAsQuery();
    
       
    }
    
    function GetVersao()
    {  
            $sql = new sql('versao','cm_versao','(idversao = (select max(idversao) from cm_versao))');
            $query = $this->Query($sql); 
            return $query->result[0][0];
//            var_dump($query);exit; 
    }
    
    public function listaVersao(){
		$query.= "versao, dataversao, descricaoalteracoes
                             FROM cm_versao ORDER BY dataversao DESC";
		$sql = new sql($query);
                $query2 = $this->Query($sql);
                return $query2;
        }
            
}
?>
