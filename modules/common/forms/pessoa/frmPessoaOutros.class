<?
/**
 * Formulário de edição de dados pessoais
 */
class frmPessoaOutros extends Form
{
    /**
     * Objeto pessoa
     * @access protected
     * @var BusinessDetestePessoa
     */
    protected $pessoa;
    
    public function __construct($pessoa)
    {
        global $MIOLO, $page, $item;
        $this->pessoa = $pessoa;
        parent::__construct('Dados Pessoais');
        $this->EventHandler();
        }

        public function CreateFields()
        {
        $fields = array(
            new TextField('raca','','Raca',60),
            new TextField('acessonet','','Acessa a Internet de',60),
        );
        $this->SetFields($fields);
        $this->SetData();
        $buttons = array( new FormButton('btnSalvar','Enviar') );
        $this->SetButtons($buttons);
        $this->defaultButton = false;
    }

    function SetData()  
    {
        $data = $this->pessoa;
        $this->SetFieldValue('raca', $data->raca);
        $this->SetFieldValue('acessonet', $data->acessonet);
    }

    function GetData()  
    {
        $data = $this->pessoa;
        $data->raca           = $this->GetFieldValue('raca');
        $data->acessonet      = $this->GetFieldValue('acessonet');
        return $data;
    }

    /**
     * btnSalvar click
     */
    public function btnSalvar_click()
    {
        $this->pessoa->SetData($this->GetData());
        $this->pessoa->save();
    } 
}
?>
