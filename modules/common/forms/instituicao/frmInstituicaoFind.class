<?
MIOLO::Import('modules::common::controls::linkinstituicao');

class frmInstituicaoFind extends MForm
{
	function __construct()
	{
		parent::__construct('Pesquisar Instituições');
		$this->EventHandler();
	}

	function CreateFields()
	{
		global $MIOLO;
		$ui = $MIOLO->GetUI();
		$grid = $ui->GetGrid('common','gridInstituicao');
		$grid->SetTitle(NULL);

		$lnkNew = new LinkInstituicao('lnkNew', FALSE);
		$lnkNew->setNew();

		$findButton = new ButtonFind('');
		$findButton->SetName('btnFind');

		$ativa = Form::GetFormValue('ativa');
		$ativa = ($ativa == 'I')? true: false;

		$fields = array(
			array(
				new Text('','Instituição'),
				new TextField('instituicao','','',40),
				new Text('','&nbsp;&nbsp;&nbsp;Listar inativas?&nbsp;'),
				new MCheckBox('ativa','I','',$ativa,''),
				$findButton,
			),
			$lnkNew,
			new MSpacer('1'),
			$grid
		);
		$this->SetFields($fields);
		$this->defaultButton = false;
	}
}
?>