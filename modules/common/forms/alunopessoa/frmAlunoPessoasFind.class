<?
class frmAlunoPessoasFind extends MForm
{
    var $pessoa;

    function __construct()
    {
        global $MIOLO;
    
        parent::__construct('Consulta Dados Aluno');
        $this->SetClose($MIOLO->GetActionURL('common','main'));
        $this->EventHandler();
    }

    function CreateFields()
    {
        $ui = $this->manager->GetUI();
        
        $grid = $ui->GetGrid('common','gridAlunoPessoas','');
        $grid->SetTitle(NULL);

        $opcoes = array(
            new MOption('',"É possível buscar por partes do nome utilizando o caracter coringa: %"),
            new MOption('',"Exemplo: Joao%Silva, retorna todas os nomes que começam com Joao e terminam com Silva."),
            new MOption('',"Quando encontrar a pessoa desejada clique no nome para consultar os dados do aluno."),
            );
            
        $dicas = new MThemeBox('Dicas',array(new MUnorderedList('',$opcoes)));

        $dadosPessoas = new MThemeBox('Nome (ou parte do nome)',array(new MTextField('nome','','Nome',45),new MButtonFind('')));
        
        
        $fields = array(
            $dicas,
            $dadosPessoas,
            $grid,
                       
        );
        $this->SetFields($fields);
        $this->defaultButton = false;
    }

    function btnPost_click()
    {
        $matricula = $this->getFormValue('matricula');
         $this->page->redirect($this->manager->getActionUrl('ensino','main:cdara:aluno'.$matricula,array('event'=>'btnEdit:click')));
    }
 }
?>
