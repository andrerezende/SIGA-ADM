<?
class frmProcessoCapa extends MForm
{
	protected $processo;
    function __construct($objProcesso)
    {
//      construct
        global $MIOLO;
		$this->processo = $objProcesso;
        parent::__construct('Imprimir capa de processo');
        $this->SetClose($MIOLO->GetActionURL('protocolo','main'));
        $this->eventHandler();
    }
    function CreateFields()
	{
//      buttons
		$buttons = Array
		(
			new MButton('btnGerarCapa', 'Imprimir Capa','pdf')
		);
		$this->SetButtons($buttons);
	}
	function btnGerarCapa_click()
	{
		global $MIOLO;
		$data = $this->getData();		
		$report = new MJasperReport('sigaept');
		$parameters['pNumProcesso'] = $this->processo->numprocesso();
		$report->Execute('protocolo', 'ProcessoCapa', $parameters);
	}
	

}
?>
