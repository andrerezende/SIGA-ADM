<?
	class frmTipoprotDel extends MForm
	{
		protected $objTipoprot;
		function __construct($objTipoprot)
		{
			$this->objTipoprot = $objTipoprot;
			parent::__construct('Excluir Tipo Protocolado');
			$this->EventHandler();
		}
		function CreateFields()
		{
			global $MIOLO;
			
			$tipoprotId = $this->objTipoprot->idtipoprot;


			$action_sim = $MIOLO->GetActionURL('protocolo','main:tipoprot',$this->objTipoprot->idtipoprot,array('form'=>'excluir','conf'=>'sim'));
			$action_nao = $MIOLO->GetActionURL('protocolo','main:tipoprot',$this->objTipoprot->idtipoprot);
			$conf=$this->GetFormValue('conf');


			if ($conf =='sim')
			{
		
				$this->objTipoprot->Delete();
				$MIOLO->Information('Tipo Protocolado excluído com sucesso!',$MIOLO->GetActionURL('protocolo','main:tipoprot:find'));
			}
			else
			{
					$MIOLO->Question("Tem certeza que deseja excluir o Tipo Protocolado [{$this->objTipoprot->tipo}]?",$action_sim,$action_nao);
			}
		}
	}
?>